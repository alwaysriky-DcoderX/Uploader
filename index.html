<style>
    .uploader-box {
        padding: 20px;
        border-radius: 12px;
        background: #151515;
        color: white;
        width: 100%;
        max-width: 400px;
        margin: auto;
        box-shadow: 0 0 10px rgba(255,255,255,0.1);
    }
    .url-output {
        margin-top: 10px;
        padding: 10px;
        background: #1e1e1e;
        border-radius: 8px;
        word-break: break-all;
    }
</style>

<div class="uploader-box">
    <h3>Upload GIF → Supaimg URL</h3>
    <input type="file" id="fileInput" accept="image/*" />

    <button onclick="uploadToSupaimg()" style="
        margin-top:10px;
        padding:10px 15px;
        border:none;
        border-radius:8px;
        background:#7b3fe4;
        color:white;
        cursor:pointer;
    ">Upload</button>

    <div id="result" class="url-output"></div>
</div>

<script>
async function uploadToSupaimg() {
    const file = document.getElementById("fileInput").files[0];

    if (!file) {
        alert("Pilih file dulu!");
        return;
    }

    const formData = new FormData();
    formData.append("file", file);

    document.getElementById("result").innerHTML = "⏳ Uploading...";

    try {
        const res = await fetch("https://supaimg.com/api/upload", {
            method: "POST",
            body: formData
        });

        const data = await res.json();

        if (data?.url) {
            document.getElementById("result").innerHTML =
                `✅ URL: <br><b>${data.url}</b>
                <br><br><button onclick="navigator.clipboard.writeText('${data.url}')">Copy URL</button>`;
        } else {
            document.getElementById("result").innerHTML = "❌ Upload gagal! (Format tidak valid / server error)";
        }
    } catch (err) {
        document.getElementById("result").innerHTML = "❌ Terjadi error saat upload!";
    }
}
</script>
